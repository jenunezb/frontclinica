<div class="card">
    <div class="card-header ps-5 pt-4 pb-4">
    <h5 class="mb-0"><i class="fa-solid fa-comments me-3"></i>Gesti贸n de PQRS</h5>
    </div>
    <div class="card-body p-5">
    <div class="mb-3">
    <button *ngIf="esAdmin === false" type="button" routerLink="/crear-pqrs"  class="btn btn-success me-2"><i
    class="fa-solid fa-plus me-1"></i> Crear</button>
    </div>
    <table class="table table-striped table-hover">
    <thead>
    <tr>
    <th>C贸digo</th>
    <th>Motivo</th>
    <th>Fecha de radicaci贸n</th>
    <th>Paciente</th>
    <th>Medico</th>
    <th>Estado</th>
    </tr>
    </thead>
    <tbody class="table-group-divider">
    <tr *ngFor="let item of pqrs">
    <td><p>{{item.codigo}}</p></td>
    <td><p>{{item.motivo}}</p></td>
    <td><p>{{item.fecha}}</p></td>
    <td><p>{{item.paciente}}</p></td>
    <td><p>{{item.medico}}</p></td>

   <!-- Condici贸n para mostrar el valor del estado solo si esAdmin es verdadero -->
<td *ngIf="esAdmin">
    <select [(ngModel)]="item.estado" name="estado" class="form-select"
        [ngClass]="item.estado == 'ACTIVO' ? 'text-bg-success' : 'text-bg-'"
        (change)="cambiarEstado(item.codigo, item.estado)">
        <option value="CERRADA" style="color: green;">CERRADO</option>
        <option value="RECHAZADA" style="color: red;">RECHAZADO</option>
        <option value="FINALIZADA" style="color: orange;">FINALIZADO</option>
        <option value="EN_PROCESO" style="color: blue;">EN PROCESO</option>
    </select>
</td>
<td *ngIf="!esAdmin">
    <div [ngClass]="item.estado == 'ACTIVO' ? 'text-bg-success' : 'text-bg-'">{{ item.estado }}</div>
</td>
<td><a routerLink="/detalle-pqrs/{{item.codigo}}"><i class="fa-solid fa-circle-info me-2"></i>Ver detalle</a></td>
        </tr>
        </tbody>
        </table>
        </div>
        </div>
